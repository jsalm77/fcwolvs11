<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>FC Wolves - ูุฑูู ุงูุฐุฆุงุจ</title>
    
    <link rel="icon" type="image/png" href="images/fc_wolves_icon.png">
    <link rel="apple-touch-icon" href="images/fc_wolves_icon.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Arabic Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&family=Cairo:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
        import { getStorage } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
        import { getMessaging } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging.js';

        const firebaseConfig = {
            apiKey: "AIzaSyDzBbcMUHBs_pc1mbfwobGW7KJgyDKmQIE",
            authDomain: "mj36-7e65e.firebaseapp.com",
            databaseURL: "https://mj36-7e65e-default-rtdb.firebaseio.com",
            projectId: "mj36-7e65e",
            storageBucket: "mj36-7e65e.firebasestorage.app",
            messagingSenderId: "64103654826",
            appId: "1:64103654826:web:c7dcd0e9af6466e67137d3"
        };

        const app = initializeApp(firebaseConfig);
        window.database = getDatabase(app);
        window.storage = getStorage(app);
        
        try {
            window.messaging = getMessaging(app);
        } catch (error) {
            console.log('Messaging not supported in this environment');
        }
    </script>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <p>ุฌุงุฑู ุชุญููู ูุฑูู ุงูุฐุฆุงุจ...</p>
    </div>

    <!-- Header Navigation -->
    <header class="header hidden" id="header">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <img src="images/fc_wolves_icon.png" alt="FC Wolves" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                </div>
                <span>FC WOLVES</span>
            </div>
            <div class="nav-icons">
                <button class="nav-icon" id="homeBtn" onclick="showSection('playerDashboard')" title="ุงูุฑุฆูุณูุฉ">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </button>
                <button class="nav-icon" id="postsBtn" onclick="showSection('postsSection')" title="ุงูููุดูุฑุงุช">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                </button>
                <button class="nav-icon" id="chatBtn" onclick="showSection('chatSection')" title="ุงูุฏุฑุฏุดุฉ">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
                    </svg>
                    <span class="notification-badge hidden" id="chatBadge">0</span>
                </button>
                <button class="nav-icon" id="profileBtn" onclick="showSection('profileSection')" title="ุงูููู ุงูุดุฎุตู">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </button>
                <button class="nav-icon" id="logoutBtn" onclick="logout()" title="ุชุณุฌูู ุงูุฎุฑูุฌ">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Login Section -->
        <section class="section login-section active" id="loginSection">
            <div class="login-card">
                <div class="team-logo">
                    <img src="images/fc_wolves_logo.png" alt="FC Wolves" style="width: 120px; height: 120px; object-fit: contain;">
                </div>
                <h1 class="team-name">FC WOLVES</h1>
                <h2 class="team-subtitle">ูุฑูู ุงูุฐุฆุงุจ</h2>
                <p class="team-slogan">ุงูููุดู ูุทู ู ุงููุทู ูุง ููุฎุงู ๐๐ช</p>
                
                <div class="input-group">
                    <input type="text" class="input-field" id="accessCode" placeholder="ุฃุฏุฎู ุฑูุฒ ุงูุฏุฎูู">
                </div>
                
                <button class="btn btn-primary" onclick="checkAccessCode()">ุฏุฎูู</button>
                <div class="error-message" id="loginError"></div>
            </div>
        </section>

        <!-- Registration Section -->
        <section class="section registration-section" id="registrationSection">
            <div class="registration-card">
                <div class="team-logo">
                    <img src="images/fc_wolves_logo.png" alt="FC Wolves" style="width: 120px; height: 120px; object-fit: contain;">
                </div>
                <h1 class="team-name">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h1>
                <h2 class="team-subtitle">ุงูุถู ุฅูู ูุฑูู ุงูุฐุฆุงุจ</h2>
                
                <div class="input-group">
                    <input type="text" class="input-field" id="newPlayerName" placeholder="ุงูุงุณู ุงููุงูู">
                </div>
                
                <div class="input-group">
                    <input type="password" class="input-field" id="newPlayerPassword" placeholder="ูููุฉ ุงููุฑูุฑ">
                </div>
                
                <div class="input-group">
                    <select class="input-field" id="newPlayerPosition">
                        <option value="">ุงุฎุชุฑ ุงููุฑูุฒ</option>
                        <option value="ุญุงุฑุณ ูุฑูู">ุญุงุฑุณ ูุฑูู</option>
                        <option value="ูุฏุงูุน">ูุฏุงูุน</option>
                        <option value="ูุณุท">ูุณุท</option>
                        <option value="ููุงุฌู">ููุงุฌู</option>
                        <option value="ุฌูุงุญ">ุฌูุงุญ</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <input type="number" class="input-field" id="newPlayerNumber" placeholder="ุฑูู ุงููููุต (1-99)">
                </div>
                
                <button class="btn btn-primary" onclick="registerPlayer()">ุฅูุดุงุก ุงูุญุณุงุจ</button>
                <button class="btn btn-secondary" onclick="showSection('loginSection')">ุงูุนูุฏุฉ ูุชุณุฌูู ุงูุฏุฎูู</button>
                <div class="error-message" id="registrationError"></div>
            </div>
        </section>

        <!-- Player Dashboard -->
        <section class="section player-dashboard" id="playerDashboard">
            <div class="welcome-card">
                <h2>ูุฑุญุจุงู ุจู ูู ูุฑูู ุงูุฐุฆุงุจ</h2>
                <p id="playerWelcome">ุฃููุงู ูุณููุงู</p>
            </div>

            <!-- Team Status -->
            <div class="status-card">
                <h3>ุญุงูุฉ ุงููุฑูู</h3>
                <div class="status-indicator" id="teamStatus">
                    <span class="status-text">ุชุฏุฑูุจ</span>
                </div>
            </div>

            <!-- Next Match -->
            <div class="match-info" id="nextMatchInfo">
                <h3>ุงููุจุงุฑุงุฉ ุงููุงุฏูุฉ</h3>
                <div class="match-details">
                    <p id="matchDate">ูุง ุชูุฌุฏ ูุจุงุฑุงุฉ ูุงุฏูุฉ</p>
                    <p id="matchTime"></p>
                    <p id="matchLocation"></p>
                </div>
                <div class="countdown" id="countdown">
                    <div class="countdown-item">
                        <span id="days">0</span>
                        <label>ุฃูุงู</label>
                    </div>
                    <div class="countdown-item">
                        <span id="hours">0</span>
                        <label>ุณุงุนุงุช</label>
                    </div>
                    <div class="countdown-item">
                        <span id="minutes">0</span>
                        <label>ุฏูุงุฆู</label>
                    </div>
                    <div class="countdown-item">
                        <span id="seconds">0</span>
                        <label>ุซูุงูู</label>
                    </div>
                </div>
            </div>

            <!-- Formation -->
            <div class="formation-card">
                <h3>ุงูุชุดูููุฉ ุงูุญุงููุฉ</h3>
                <div class="formation-display" id="formationDisplay">
                    <img src="images/formation_2_1_2.png" alt="Formation" class="formation-image">
                </div>
                <div class="formation-info">
                    <p>ุงูุชุดูููุฉ: <span id="currentFormation">2-1-2</span></p>
                </div>
            </div>

            <!-- Players List -->
            <div class="players-section">
                <h3>ูุงุฆูุฉ ุงููุงุนุจูู</h3>
                <div class="players-grid" id="playersGrid">
                    <!-- Players will be loaded here -->
                </div>
            </div>

            <!-- Previous Results -->
            <div class="results-section">
                <h3>ุงููุชุงุฆุฌ ุงูุณุงุจูุฉ</h3>
                <div class="results-list" id="resultsList">
                    <!-- Results will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Posts Section -->
        <section class="section posts-section" id="postsSection">
            <div class="posts-header">
                <h2>ููุดูุฑุงุช ุงููุฑูู</h2>
            </div>
            <div class="posts-container" id="postsContainer">
                <!-- Posts will be loaded here -->
            </div>
        </section>

        <!-- Chat Section -->
        <section class="section chat-section" id="chatSection">
            <div class="chat-header">
                <h2>ุฏุฑุฏุดุฉ ุงููุฑูู</h2>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be loaded here -->
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="ุงูุชุจ ุฑุณุงูุชู...">
                    <button class="send-btn" onclick="sendMessage()">ุฅุฑุณุงู</button>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section class="section profile-section" id="profileSection">
            <div class="profile-header">
                <h2>ุงูููู ุงูุดุฎุตู</h2>
            </div>
            <div class="profile-card">
                <div class="profile-image" id="profileImage">
                    <img src="https://via.placeholder.com/150" alt="ุตูุฑุฉ ุงููุงุนุจ" id="playerImage">
                </div>
                <div class="profile-info">
                    <h3 id="profileName">ุงุณู ุงููุงุนุจ</h3>
                    <p id="profilePosition">ุงููุฑูุฒ</p>
                    <p id="profileNumber">ุฑูู ุงููููุต</p>
                </div>
                <button class="btn btn-primary" onclick="editProfile()">ุชุนุฏูู ุงูููู ุงูุดุฎุตู</button>
            </div>
        </section>

        <!-- Coach Dashboard -->
        <section class="section coach-dashboard" id="coachDashboard">
            <div class="coach-header">
                <h2>ููุญุฉ ุชุญูู ุงููุฏุฑุจ</h2>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="action-btn" onclick="showAddPlayerForm()">ุฅุถุงูุฉ ูุงุนุจ</button>
                <button class="action-btn" onclick="showMatchForm()">ุฅุถุงูุฉ ูุจุงุฑุงุฉ</button>
                <button class="action-btn" onclick="showPostForm()">ุฅุถุงูุฉ ููุดูุฑ</button>
                <button class="action-btn" onclick="sendNotification()">ุฅุฑุณุงู ุฅุดุนุงุฑ</button>
            </div>

            <!-- Add Player Form -->
            <div class="form-card hidden" id="addPlayerForm">
                <h3>ุฅุถุงูุฉ ูุงุนุจ ุฌุฏูุฏ</h3>
                <div class="input-group">
                    <input type="text" class="input-field" id="playerName" placeholder="ุงุณู ุงููุงุนุจ">
                </div>
                <div class="input-group">
                    <select class="input-field" id="playerPosition">
                        <option value="">ุงุฎุชุฑ ุงููุฑูุฒ</option>
                        <option value="ุญุงุฑุณ ูุฑูู">ุญุงุฑุณ ูุฑูู</option>
                        <option value="ูุฏุงูุน">ูุฏุงูุน</option>
                        <option value="ูุณุท">ูุณุท</option>
                        <option value="ููุงุฌู">ููุงุฌู</option>
                        <option value="ุฌูุงุญ">ุฌูุงุญ</option>
                    </select>
                </div>
                <div class="input-group">
                    <input type="number" class="input-field" id="playerNumber" placeholder="ุฑูู ุงููููุต">
                </div>
                <div class="input-group">
                    <input type="file" class="input-field" id="playerImage" accept="image/*">
                    <label for="playerImage">ุตูุฑุฉ ุงููุงุนุจ (ุงุฎุชูุงุฑูุฉ)</label>
                </div>
                <button class="btn btn-primary" onclick="addPlayer()">ุฅุถุงูุฉ ุงููุงุนุจ</button>
                <button class="btn btn-secondary" onclick="hideAddPlayerForm()">ุฅูุบุงุก</button>
            </div>

            <!-- Players Management -->
            <div class="players-management">
                <h3>ุฅุฏุงุฑุฉ ุงููุงุนุจูู</h3>
                <div class="players-list" id="coachPlayersList">
                    <!-- Players management will be loaded here -->
                </div>
            </div>

            <!-- Formation Management -->
            <div class="formation-management">
                <h3>ุฅุฏุงุฑุฉ ุงูุชุดูููุฉ</h3>
                <div class="formation-selector">
                    <select class="input-field" id="formationSelect" onchange="changeFormation()">
                        <option value="2-1-2">2-1-2 (ูุชูุงุฒูุฉ)</option>
                        <option value="1-3-1">1-3-1 (ูุณุท ููู)</option>
                        <option value="1-2-2">1-2-2 (ูุฌูููุฉ)</option>
                        <option value="2-2-1">2-2-1 (ุฏูุงุนูุฉ)</option>
                    </select>
                </div>
            </div>

            <!-- Team Status Management -->
            <div class="status-management">
                <h3>ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุฑูู</h3>
                <div class="status-selector">
                    <select class="input-field" id="statusSelect" onchange="changeTeamStatus()">
                        <option value="ุชุฏุฑูุจ">ุชุฏุฑูุจ</option>
                        <option value="ูุจุงุฑุงุฉ">ูุจุงุฑุงุฉ</option>
                        <option value="ุฑุงุญุฉ">ุฑุงุญุฉ</option>
                        <option value="ุณูุฑ">ุณูุฑ</option>
                    </select>
                </div>
            </div>
        </section>
    </div>

    <!-- External JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>

